(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},67240,e=>{"use strict";let t=(0,e.i(75254).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],67240)},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},47829,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(9694),r=e.i(75225),i=e.i(85183),l=e.i(93230),n=e.i(72526),c=e.i(34239),d=e.i(31195),o=e.i(22787);e.i(57229);var m=e.i(44674);function x(e){return e>=50?"#059669":e>=30?"#d97706":"#dc2626"}function u({x:e=0,width:s=0,payload:a}){if(!a||0===a.count)return null;let{min:r,q1:i,median:l,q3:n,max:c,mean:d,selected:o}=a,m=x(d),u=e+s/2,p=e=>240-e/100*220,h=p(r),f=p(i),b=p(l),g=p(n),j=p(c),y=p(d),v=.6*s,N=u-v/2,k=.25*s;return(0,t.jsxs)("g",{opacity:!1===o?.25:1,children:[(0,t.jsx)("line",{x1:u,y1:h,x2:u,y2:j,stroke:m,strokeWidth:1.5,opacity:.6}),(0,t.jsx)("line",{x1:u-k/2,y1:h,x2:u+k/2,y2:h,stroke:m,strokeWidth:1.5,opacity:.6}),(0,t.jsx)("line",{x1:u-k/2,y1:j,x2:u+k/2,y2:j,stroke:m,strokeWidth:1.5,opacity:.6}),(0,t.jsx)("rect",{x:N,y:g,width:v,height:f-g,fill:m,fillOpacity:.2,stroke:m,strokeWidth:1.5,rx:3}),(0,t.jsx)("line",{x1:N,y1:b,x2:N+v,y2:b,stroke:m,strokeWidth:2.5}),(0,t.jsx)("polygon",{points:`${u},${y-5} ${u+5},${y} ${u},${y+5} ${u-5},${y}`,fill:m,stroke:"white",strokeWidth:1})]})}function p({phaseStats:e,onPhaseClick:p}){let{t:h}=(0,m.useTranslation)(),[f,b]=(0,s.useState)(null),g=f?e.find(e=>e.phase===f):null,j=e.map(e=>({...e,dummy:e.max,selected:f?e.phase===f:void 0})),y=g?x(g.mean):"#059669";return(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider",children:h("distribution.title")}),!f&&(0,t.jsx)("span",{className:"text-xs text-muted",children:h("distribution.clickHint")})]}),(0,t.jsx)(d.ResponsiveContainer,{width:"100%",height:280,children:(0,t.jsxs)(a.BarChart,{data:j,margin:{top:20,right:20,bottom:20,left:20},children:[(0,t.jsx)(n.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e4e4e7",vertical:!1}),(0,t.jsx)(i.XAxis,{dataKey:"phase",tick:{fill:"#71717a",fontSize:12},axisLine:{stroke:"#d4d4d8"},tickLine:!1}),(0,t.jsx)(l.YAxis,{domain:[0,100],tick:{fill:"#71717a",fontSize:12},axisLine:{stroke:"#d4d4d8"},tickLine:!1,tickFormatter:e=>`${e}%`}),(0,t.jsx)(c.Tooltip,{content:({active:e,payload:s})=>{if(!e||!s?.[0])return null;let a=s[0].payload;return(0,t.jsxs)("div",{className:"bg-white border border-border rounded-lg p-3 shadow-xl text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-foreground mb-2",children:a.phase}),(0,t.jsxs)("div",{className:"space-y-1 tabular-nums",children:[(0,t.jsxs)("p",{className:"text-muted",children:["Max: ",(0,t.jsxs)("span",{className:"text-foreground",children:[a.max,"%"]})]}),(0,t.jsxs)("p",{className:"text-muted",children:["Q3: ",(0,t.jsxs)("span",{className:"text-foreground",children:[a.q3.toFixed(1),"%"]})]}),(0,t.jsxs)("p",{className:"text-muted",children:[h("distribution.mean"),": ",(0,t.jsxs)("span",{className:"text-foreground font-medium",style:{color:x(a.mean)},children:[a.mean.toFixed(1),"%"]})]}),(0,t.jsxs)("p",{className:"text-muted",children:["Median: ",(0,t.jsxs)("span",{className:"text-foreground",children:[a.median.toFixed(1),"%"]})]}),(0,t.jsxs)("p",{className:"text-muted",children:["Q1: ",(0,t.jsxs)("span",{className:"text-foreground",children:[a.q1.toFixed(1),"%"]})]}),(0,t.jsxs)("p",{className:"text-muted",children:["Min: ",(0,t.jsxs)("span",{className:"text-foreground",children:[a.min,"%"]})]}),(0,t.jsxs)("p",{className:"text-muted mt-1",children:["n=",a.count]})]})]})}}),(0,t.jsx)(r.Bar,{dataKey:"dummy",shape:(0,t.jsx)(u,{}),onClick:(e,t,s)=>{let a=e?.payload;a?.phase&&b(e=>e===a.phase?null:a.phase),s.stopPropagation()},cursor:"pointer",children:j.map(e=>(0,t.jsx)(o.Cell,{fill:"transparent"},e.phase))})]})}),g&&(0,t.jsx)("div",{className:"mt-4 p-4 rounded-lg border transition-colors",style:{borderColor:`${y}40`,backgroundColor:`${y}08`},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-xs text-muted uppercase tracking-wider mb-1",children:[g.phase," — ",h("distribution.avgProductivity")]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,t.jsxs)("span",{className:"text-3xl font-bold tabular-nums",style:{color:y},children:[g.mean.toFixed(1),"%"]}),(0,t.jsxs)("span",{className:"text-sm text-muted",children:[h("distribution.mean")," · ",g.count," ",h("distribution.dataPoints")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted tabular-nums",children:[(0,t.jsxs)("span",{children:["Min ",g.min,"%"]}),(0,t.jsxs)("span",{children:["Q1 ",g.q1.toFixed(1),"%"]}),(0,t.jsxs)("span",{children:["Median ",g.median.toFixed(1),"%"]}),(0,t.jsxs)("span",{children:["Q3 ",g.q3.toFixed(1),"%"]}),(0,t.jsxs)("span",{children:["Max ",g.max,"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p&&(0,t.jsxs)("button",{onClick:()=>p(g.phase),className:"px-3 py-1.5 text-xs rounded-md bg-accent-dim text-accent border border-accent/30 hover:bg-accent/20 transition-colors",children:[h("distribution.viewSources")," →"]}),(0,t.jsx)("button",{onClick:()=>b(null),className:"p-1.5 text-muted hover:text-foreground transition-colors rounded-md hover:bg-surface-hover",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})]})})]})}e.s(["default",()=>p])},30257,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(17394),i=e.i(17586);let l=["empirical","survey","vendor","anecdotal"];var n=e.i(65143);e.i(57229);var c=e.i(44674),d=e.i(67240);let o=["empirical","survey","vendor","anecdotal"],m={empirical:"common.empirical",survey:"common.survey",vendor:"common.vendor",anecdotal:"common.anecdotal"};function x({active:e,onClick:s,children:a}){return(0,t.jsx)("button",{onClick:s,className:`px-3 py-1.5 text-xs rounded-md transition-colors border ${e?"bg-accent-dim text-accent border-accent/30":"bg-surface text-muted border-border hover:text-foreground hover:border-muted"}`,children:a})}function u({filters:e,toggleYear:s,toggleDataType:a,togglePhase:i,resetFilters:l}){let{t:n}=(0,c.useTranslation)();return(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-6 p-4 bg-surface rounded-xl border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:n("common.year")}),(0,t.jsx)("div",{className:"flex gap-1",children:r.ALL_YEARS.map(a=>(0,t.jsx)(x,{active:e.years.includes(a),onClick:()=>s(a),children:a},a))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:n("common.type")}),(0,t.jsx)("div",{className:"flex gap-1",children:o.map(s=>(0,t.jsx)(x,{active:e.dataTypes.includes(s),onClick:()=>a(s),children:n(m[s])},s))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:n("common.phase")}),(0,t.jsx)("div",{className:"flex gap-1",children:r.PHASES.map(s=>(0,t.jsx)(x,{active:e.phases.includes(s),onClick:()=>i(s),children:s},s))})]}),(0,t.jsxs)("button",{onClick:l,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-muted hover:text-foreground transition-colors",children:[(0,t.jsx)(d.RotateCcw,{className:"w-3 h-3"}),n("common.reset")]})]})}let p={pessimistic:{labelKey:"roi.pessimistic",modelKey:"scenario.modelPessimistic",color:"#ef4444",activeBg:"bg-red-500/15",activeBorder:"border-red-500/50"},realistic:{labelKey:"roi.realistic",modelKey:"scenario.modelRealistic",color:"#f59e0b",activeBg:"bg-amber-500/15",activeBorder:"border-amber-500/50"},optimistic:{labelKey:"roi.optimistic",modelKey:"scenario.modelOptimistic",color:"#10b981",activeBg:"bg-emerald-500/15",activeBorder:"border-emerald-500/50"}};function h({onActivate:e,onDeactivate:s}){let{configs:r,activeScenario:l}=(0,n.useScenario)(),{t:d}=(0,c.useTranslation)(),o=(0,a.useRouter)(),m=(0,i.computeMETRMultiplier)(r.metrConfig);return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:d("scenario.scenarios")}),(0,t.jsx)("div",{className:"flex gap-1.5",children:["pessimistic","realistic","optimistic"].map(a=>{let i=p[a],n=l===a,c=function(e){let t=[...e].sort();if(0===t.length)return"";if(4===t.length)return"All";let s=t[0],a=t[t.length-1];return t.every((e,s)=>0===s||e===t[s-1]+1)&&t.length>1?`${String(s).slice(2)}\u2013${String(a).slice(2)}`:t.map(e=>String(e).slice(2)).join(",")}(r[a].years),o="optimistic"===a&&r.metrConfig.enabled?` +${m.toFixed(0)}x`:"";return(0,t.jsxs)("button",{onClick:()=>{l===a?s():e(a)},className:`px-3 py-1.5 text-xs rounded-md transition-colors border text-center ${n?`${i.activeBg} ${i.activeBorder}`:"bg-surface text-muted border-border hover:text-foreground hover:border-muted"}`,style:n?{color:i.color}:void 0,children:[(0,t.jsxs)("span",{className:"block",children:[d(i.labelKey)," ",c,o]}),(0,t.jsx)("span",{className:"block text-[10px] opacity-70",children:d(i.modelKey)})]},a)})}),(0,t.jsx)("button",{onClick:()=>o.push("/analytics#scenarios"),className:"px-3 py-1.5 text-xs rounded-md border border-accent/30 bg-accent-dim text-accent hover:bg-accent/20 transition-colors font-medium",children:d("scenario.configure")})]})}let f=[{value:"all",labelKey:"temporal.all"},{value:"early",labelKey:"temporal.early"},{value:"agentic",labelKey:"temporal.agentic"}];function b({era:e,setEra:s}){let{t:a}=(0,c.useTranslation)();return(0,t.jsx)("div",{className:"inline-flex rounded-lg bg-surface border border-border p-1",children:f.map(({value:r,labelKey:i})=>(0,t.jsx)("button",{onClick:()=>s(r),className:`px-4 py-2 text-xs font-medium rounded-md transition-all ${e===r?"bg-accent-dim text-accent shadow-sm":"text-muted hover:text-foreground"}`,children:a(i)},r))})}function g({phaseStats:e,onPhaseClick:s}){let{t:a}=(0,c.useTranslation)();return(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2",children:e.map(e=>{var r;let i=(r=e.mean)>=50?{bg:"bg-impact-high/20",text:"text-impact-high",glow:"card-glow-green"}:r>=30?{bg:"bg-impact-mid/20",text:"text-impact-mid",glow:"card-glow-amber"}:{bg:"bg-impact-low/20",text:"text-impact-low",glow:"card-glow-red"};return(0,t.jsxs)("button",{onClick:()=>s?.(e.phase),className:`relative rounded-xl p-4 border border-border ${i.bg} ${i.glow} transition-all ${s?"cursor-pointer hover:ring-2 hover:ring-accent/40":""}`,children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:e.phase}),(0,t.jsx)("span",{className:`text-2xl font-bold tabular-nums ${i.text}`,children:e.count>0?`${Math.round(e.mean)}%`:"—"}),(0,t.jsxs)("span",{className:"text-xs text-muted",children:[e.count," ",1===e.count?a("common.fact"):a("common.facts")," · ",e.sourceCount," ",1===e.sourceCount?a("common.source"):a("common.sources")]})]}),(0,t.jsx)("div",{className:"mt-3 h-1.5 bg-zinc-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full transition-all duration-500 ${e.mean>=50?"bg-impact-high":e.mean>=30?"bg-impact-mid":"bg-impact-low"}`,style:{width:`${Math.min(e.mean,100)}%`}})})]},e.phase)})})}var j=e.i(47829),y=e.i(29228),v=e.i(55706),N=e.i(31195);function k({trend:e,onPhaseClick:s}){let{t:a}=(0,c.useTranslation)(),{phase:r,points:i}=e,l=function(e){if(0===e.length)return"#71717a";let t=e[e.length-1].mean;return t>=50?"#059669":t>=30?"#d97706":"#dc2626"}(i),n=i.length>0?i[i.length-1].mean:0;return(0,t.jsxs)("div",{onClick:()=>s?.(r),className:`bg-surface rounded-xl border border-border p-4 flex items-center gap-4 ${s?"cursor-pointer hover:ring-2 hover:ring-accent/40":""}`,children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:r}),(0,t.jsx)("p",{className:"text-lg font-bold tabular-nums",style:{color:l},children:n>0?`${n}%`:"—"}),(0,t.jsx)("p",{className:"text-xs text-muted",children:a("dashboard.latestAvg")})]}),(0,t.jsx)("div",{className:"w-[120px] h-[40px]",children:i.length>1?(0,t.jsx)(N.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsx)(y.LineChart,{data:i,children:(0,t.jsx)(v.Line,{type:"monotone",dataKey:"mean",stroke:l,strokeWidth:2,dot:!1})})}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xs text-muted",children:"—"})})]})}var w=e.i(85183),S=e.i(93230),C=e.i(72526),A=e.i(34239),$=e.i(7670),P=e.i(97865),T=e.i(494),L=e.i(94395),M=e.i(44171),E=e.i(46710),O=e.i(31725),R=e.i(27241),D=e.i(61764),W=e.i(75337),F=e.i(89763),B=e.i(43404),I=e.i(51883),K=e.i(29601),z=e.i(18457),_=e.i(22075);class q{constructor(e){var{x:t,y:s}=e;this.xAxisScale=t,this.yAxisScale=s}map(e,t){var s,a,{position:r}=t;return{x:null!=(s=this.xAxisScale.map(e.x,{position:r}))?s:0,y:null!=(a=this.yAxisScale.map(e.y,{position:r}))?a:0}}mapWithFallback(e,t){var s,a,r,i,{position:l,fallback:n}=t;return r="rangeMin"===n?this.yAxisScale.rangeMin():"rangeMax"===n?this.yAxisScale.rangeMax():0,i="rangeMin"===n?this.xAxisScale.rangeMin():"rangeMax"===n?this.xAxisScale.rangeMax():0,{x:null!=(s=this.xAxisScale.map(e.x,{position:l}))?s:i,y:null!=(a=this.yAxisScale.map(e.y,{position:l}))?a:r}}isInRange(e){var{x:t,y:s}=e,a=null==t||this.xAxisScale.isInRange(t),r=null==s||this.yAxisScale.isInRange(s);return a&&r}}function U(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function Y(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?U(Object(s),!0).forEach(function(t){var a,r,i;a=e,r=t,i=s[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):U(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function H(){return(H=Object.assign.bind()).apply(null,arguments)}function Q(e){var t=(0,R.useAppDispatch)();return(0,s.useEffect)(()=>(t((0,O.addLine)(e)),()=>{t((0,O.removeLine)(e))})),null}function X(e){var{xAxisId:t,yAxisId:a,shape:r,className:i,ifOverflow:l}=e,n=(0,W.useIsPanorama)(),c=(0,F.useClipPathId)(),d=(0,R.useAppSelector)(e=>(0,D.selectXAxisSettings)(e,t)),o=(0,R.useAppSelector)(e=>(0,D.selectYAxisSettings)(e,a)),m=(0,R.useAppSelector)(e=>(0,D.selectAxisScale)(e,"xAxis",t,n)),x=(0,R.useAppSelector)(e=>(0,D.selectAxisScale)(e,"yAxis",a,n)),u=(0,E.useViewBox)();if(!c||!u||null==d||null==o||null==m||null==x)return null;var p=((e,t,s,a,r,i,l)=>{var n,c,{x:d,y:o,segment:m,ifOverflow:x}=l,u=(0,L.isNumOrStr)(d);return(0,L.isNumOrStr)(o)?((e,t,s,a,r,i)=>{var{x:l,width:n}=i,c=r.map(e,{position:s});if(!(0,_.isWellBehavedNumber)(c)||"discard"===t&&!r.isInRange(c))return null;var d=[{x:l+n,y:c},{x:l,y:c}];return"left"===a?d.reverse():d})(o,x,a,i,t,s):u?((e,t,s,a,r,i)=>{var{y:l,height:n}=i,c=r.map(e,{position:s});if(!(0,_.isWellBehavedNumber)(c)||"discard"===t&&!r.isInRange(c))return null;var d=[{x:c,y:l+n},{x:c,y:l}];return"top"===a?d.reverse():d})(d,x,a,r,e,s):null!=m&&2===m.length?(c=[(n=new q({x:e,y:t})).mapWithFallback(m[0],{position:a,fallback:"rangeMin"}),n.mapWithFallback(m[1],{position:a,fallback:"rangeMax"})],"discard"===x&&c.some(e=>!n.isInRange(e))?null:c):null})(m,x,u,e.position,d.orientation,o.orientation,e);if(!p)return null;var h=p[0],f=p[1];if(null==h||null==f)return null;var{x:b,y:g}=h,{x:j,y:y}=f,v=Y(Y({clipPath:"hidden"===l?"url(#".concat(c,")"):void 0},(0,B.svgPropertiesAndEvents)(e)),{},{x1:b,y1:g,x2:j,y2:y}),N=(0,M.rectWithCoords)({x1:b,y1:g,x2:j,y2:y});return s.createElement(K.ZIndexLayer,{zIndex:e.zIndex},s.createElement(P.Layer,{className:(0,$.clsx)("recharts-reference-line",i)},((e,t)=>{var a;if(s.isValidElement(e))a=s.cloneElement(e,t);else if("function"==typeof e)a=e(t);else{if(!(0,_.isWellBehavedNumber)(t.x1)||!(0,_.isWellBehavedNumber)(t.y1)||!(0,_.isWellBehavedNumber)(t.x2)||!(0,_.isWellBehavedNumber)(t.y2))return null;a=s.createElement("line",H({},t,{className:"recharts-reference-line-line"}))}return a})(r,v),s.createElement(T.CartesianLabelContextProvider,H({},N,{lowerWidth:N.width,upperWidth:N.width}),s.createElement(T.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var V={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:z.DefaultZIndexes.line};function G(e){var t=(0,I.resolveDefaultProps)(e,V);return s.createElement(s.Fragment,null,s.createElement(Q,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),s.createElement(X,t))}G.displayName="ReferenceLine";let Z={Strategy:"#f59e0b",Design:"#8b5cf6",Spec:"#06b6d4",Dev:"#3b82f6",QA:"#10b981",DevOps:"#f97316"};function J({facts:e,activePhases:a}){let{t:r}=(0,c.useTranslation)(),{data:i,yearRange:l}=(0,s.useMemo)(()=>{let t=new Map;for(let s of e){let e=`${s.year}|${s.phase}`;t.has(e)||t.set(e,[]),t.get(e).push(s.impactPct)}let s=[...new Set(e.map(e=>e.year))].sort();return{data:s.map(e=>{let s={year:e};for(let r of a){let a=t.get(`${e}|${r}`);if(a&&a.length>0){let e=a.reduce((e,t)=>e+t,0)/a.length;s[r]=Math.round(10*e)/10,s[`${r}_count`]=a.length,s[`${r}_min`]=Math.min(...a),s[`${r}_max`]=Math.max(...a)}else s[r]=null}return s}),yearRange:s}},[e,a]);return 0===l.length?(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted mb-4 uppercase tracking-wider",children:r("timeSeries.title")}),(0,t.jsx)("div",{className:"h-[320px] flex items-center justify-center text-sm text-muted",children:r("timeSeries.noData")})]}):(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider",children:r("timeSeries.title")}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Z[e]}}),(0,t.jsx)("span",{className:"text-xs text-muted",children:e})]},e))})]}),(0,t.jsx)(N.ResponsiveContainer,{width:"100%",height:320,children:(0,t.jsxs)(y.LineChart,{data:i,margin:{top:10,right:20,bottom:10,left:10},children:[(0,t.jsx)(C.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e4e4e7",vertical:!1}),(0,t.jsx)(w.XAxis,{dataKey:"year",tick:{fill:"#71717a",fontSize:12},axisLine:{stroke:"#d4d4d8"},tickLine:!1,type:"number",domain:[l[0],l[l.length-1]],ticks:l,allowDecimals:!1}),(0,t.jsx)(S.YAxis,{tick:{fill:"#71717a",fontSize:12},axisLine:{stroke:"#d4d4d8"},tickLine:!1,tickFormatter:e=>`${e}%`,width:50}),(0,t.jsx)(G,{y:0,stroke:"#d4d4d8",strokeWidth:1}),(0,t.jsx)(A.Tooltip,{content:({active:e,payload:s,label:a})=>e&&s&&0!==s.length?(0,t.jsxs)("div",{className:"bg-white border border-border rounded-lg p-3 shadow-xl text-xs min-w-[180px]",children:[(0,t.jsx)("p",{className:"font-medium text-foreground mb-2",children:a}),(0,t.jsx)("div",{className:"space-y-1.5",children:s.map(e=>{if(null==e.value)return null;let s=e.dataKey,a=e.payload,r=a[`${s}_count`],i=a[`${s}_min`],l=a[`${s}_max`];return(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full shrink-0 mt-0.5",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-muted",children:s})]}),(0,t.jsxs)("div",{className:"text-right tabular-nums",children:[(0,t.jsxs)("span",{className:"text-foreground font-medium",children:[Number(e.value).toFixed(1),"%"]}),null!=r&&(0,t.jsxs)("span",{className:"text-muted ml-1.5",children:["(n=",r,null!=i&&null!=l&&i!==l?`, ${i}–${l}%`:"",")"]})]})]},s)})})]}):null}),a.map(e=>(0,t.jsx)(v.Line,{type:"monotone",dataKey:e,stroke:Z[e],strokeWidth:2.5,dot:{r:4,fill:Z[e],strokeWidth:0},activeDot:{r:6,strokeWidth:2,stroke:"#fff"},connectNulls:!1},e))]})}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-2",children:a.map(e=>{let s=i.map(t=>t[e]).filter(e=>null!=e);if(0===s.length)return null;let a=i.findLast(t=>null!=t[e])?.[e],r=i.find(t=>null!=t[e])?.[e],l=null!=a&&null!=r?a-r:null;return(0,t.jsxs)("div",{className:"p-3 rounded-lg border border-border bg-zinc-50 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-muted font-medium uppercase tracking-wider",children:e}),(0,t.jsx)("p",{className:"text-lg font-bold tabular-nums",style:{color:Z[e]},children:null!=a?`${a}%`:"—"}),null!=l&&s.length>1&&(0,t.jsxs)("p",{className:`text-xs tabular-nums ${l>=0?"text-impact-high":"text-impact-low"}`,children:[l>=0?"+":"",l.toFixed(1),"pp"]})]},e)})})]})}var ee=e.i(78917);let et={empirical:"bg-emerald-500/20 text-emerald-400",survey:"bg-blue-500/20 text-blue-400",vendor:"bg-purple-500/20 text-purple-400",anecdotal:"bg-orange-500/20 text-orange-400"};function es({level:e}){return(0,t.jsx)("div",{className:"flex gap-0.5",children:[1,2,3].map(s=>(0,t.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${s<=e?"bg-accent":"bg-zinc-200"}`},s))})}function ea({facts:e,onSelectFact:s}){let{t:a}=(0,c.useTranslation)(),r=[...e].sort((e,t)=>t.year-e.year||t.impactPct-e.impactPct);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider",children:a("evidenceWall.title")}),(0,t.jsxs)("span",{className:"text-xs text-muted tabular-nums",children:[e.length," ",a("common.facts")]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:r.map(e=>(0,t.jsxs)("button",{onClick:()=>s(e),className:"text-left bg-surface rounded-xl border border-border p-4 hover:border-muted transition-all hover:bg-surface-hover group",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-md ${et[e.dataType]}`,children:e.dataType}),(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-md bg-zinc-100 text-muted",children:e.phase})]}),(0,t.jsx)(es,{level:e.credibility})]}),(0,t.jsx)("p",{className:"text-sm text-foreground line-clamp-2 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-xs text-muted",children:[e.source," · ",e.year]}),(0,t.jsxs)("span",{className:"text-lg font-bold tabular-nums text-accent",children:[e.impactPct,"%"]})]}),e.sourceUrl&&(0,t.jsx)(ee.ExternalLink,{className:"w-3 h-3 text-muted opacity-0 group-hover:opacity-100 transition-opacity absolute top-3 right-3"})]},e.id))})]})}var er=e.i(37727),ei=e.i(72520);let el={empirical:"dataType.empirical",survey:"dataType.survey",vendor:"dataType.vendor",anecdotal:"dataType.anecdotal"},en={1:"credibility.low",2:"credibility.medium",3:"credibility.high"};function ec({level:e}){let{t:s}=(0,c.useTranslation)();return(0,t.jsx)("span",{className:{1:"text-impact-low",2:"text-impact-mid",3:"text-impact-high"}[e],children:s(en[e])})}function ed({fact:e,onClose:r}){let i=(0,a.useRouter)(),{t:l}=(0,c.useTranslation)(),n=(0,s.useCallback)(e=>{"Escape"===e.key&&r()},[r]);return((0,s.useEffect)(()=>{if(e)return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e,n]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 fade-in",onClick:r}),(0,t.jsx)("div",{className:"fixed right-0 top-0 h-screen w-full sm:w-96 bg-surface border-l border-border z-50 slide-in overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("span",{className:"text-xs text-muted uppercase tracking-wider",children:l("factDetail.title")}),(0,t.jsx)("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-surface-hover text-muted hover:text-foreground transition-colors",children:(0,t.jsx)(er.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsxs)("p",{className:"text-5xl font-bold tabular-nums text-accent",children:[e.impactPct,"%"]}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1",children:l("factDetail.improvement")})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted mb-1",children:l("factDetail.phase")}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.phase})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted mb-1",children:l("factDetail.year")}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.year})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted mb-1",children:l("factDetail.dataType")}),(0,t.jsx)("p",{className:"text-sm font-medium",children:l(el[e.dataType])})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted mb-1",children:l("factDetail.credibility")}),(0,t.jsx)("p",{className:"text-sm font-medium",children:(0,t.jsx)(ec,{level:e.credibility})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted mb-2",children:l("factDetail.description")}),(0,t.jsx)("p",{className:"text-sm text-foreground leading-relaxed",children:e.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted mb-2",children:l("factDetail.source")}),(0,t.jsx)("p",{className:"text-sm font-medium",children:e.source}),e.sampleSize&&(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:[l("factDetail.sample")," ",e.sampleSize]})]}),e.sourceUrl&&(0,t.jsxs)("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-3 bg-accent-dim rounded-lg text-accent text-sm hover:bg-accent/20 transition-colors",children:[(0,t.jsx)(ee.ExternalLink,{className:"w-4 h-4"}),l("factDetail.openSource")]}),(0,t.jsxs)("button",{onClick:()=>{let t=new URLSearchParams({phases:e.phase});i.push(`/sources?${t.toString()}`),r()},className:"flex items-center gap-2 px-4 py-3 rounded-lg text-muted text-sm hover:text-foreground hover:bg-surface-hover transition-colors w-full",children:[(0,t.jsx)(ei.ArrowRight,{className:"w-4 h-4"}),l("factDetail.viewAllSources",{phase:e.phase})]})]})]})})]}):null}var eo=e.i(46019);function em(){let{filters:e,filteredFacts:d,phaseStats:o,trendData:m,toggleYear:x,toggleDataType:p,togglePhase:f,setEra:y,resetFilters:v,applyScenarioFilters:N}=function(){let[e,t]=(0,s.useState)({years:[...r.ALL_YEARS],dataTypes:[...l],phases:[...r.PHASES],era:"all"}),a=(0,s.useMemo)(()=>{let t=r.facts;return t=(t=(t=t.filter(t=>e.years.includes(t.year))).filter(t=>e.dataTypes.includes(t.dataType))).filter(t=>e.phases.includes(t.phase)),"early"===e.era?t=t.filter(e=>e.year<=2024):"agentic"===e.era&&(t=t.filter(e=>e.year>=2025)),t},[e]),n=(0,s.useMemo)(()=>(0,i.computePhaseStats)(a),[a]),c=(0,s.useMemo)(()=>(0,i.computeTrendData)(a),[a]),d=(0,s.useMemo)(()=>(0,i.computeEraComparison)(r.facts),[]),o=(0,s.useCallback)(e=>{t(t=>({...t,years:t.years.includes(e)?t.years.filter(t=>t!==e):[...t.years,e].sort()}))},[]),m=(0,s.useCallback)(e=>{t(t=>({...t,dataTypes:t.dataTypes.includes(e)?t.dataTypes.filter(t=>t!==e):[...t.dataTypes,e]}))},[]),x=(0,s.useCallback)(e=>{t(t=>({...t,phases:t.phases.includes(e)?t.phases.filter(t=>t!==e):[...t.phases,e]}))},[]),u=(0,s.useCallback)(e=>{t(t=>({...t,era:e}))},[]);return{filters:e,filteredFacts:a,phaseStats:n,trendData:c,eraComparison:d,toggleYear:o,toggleDataType:m,togglePhase:x,setEra:u,resetFilters:(0,s.useCallback)(()=>{t({years:[...r.ALL_YEARS],dataTypes:[...l],phases:[...r.PHASES],era:"all"})},[]),applyScenarioFilters:(0,s.useCallback)((e,s)=>{t(t=>({...t,years:e,dataTypes:s,era:"all"}))},[])}}(),{configs:w,activeScenario:S,setActiveScenario:C}=(0,n.useScenario)(),A=(0,a.useRouter)(),{t:$}=(0,c.useTranslation)(),[P,T]=(0,s.useState)(null),L=(0,s.useRef)(null),M=(0,s.useRef)(!1),E=(0,s.useCallback)(e=>{C(e),M.current=!0;let t=w[e];N(t.years,t.dataTypes)},[w,C,N]),O=(0,s.useCallback)(()=>{C(null),v()},[C,v]),R=(0,s.useCallback)(e=>{S&&C(null),x(e)},[S,C,x]),D=(0,s.useCallback)(e=>{S&&C(null),p(e)},[S,C,p]),W=(0,s.useCallback)(e=>{S&&C(null),f(e)},[S,C,f]),F=(0,s.useCallback)(()=>{S&&C(null),v()},[S,C,v]),B=(0,s.useCallback)(t=>{let s=new URLSearchParams;s.set("phases",t),s.set("years",e.years.join(",")),s.set("dataTypes",e.dataTypes.join(",")),s.set("era",e.era),A.push(`/sources?${s.toString()}`)},[e,A]);return(0,t.jsxs)("div",{className:"space-y-6 max-w-7xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:$("dashboard.title")}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1",children:$("dashboard.subtitle")}),(0,t.jsx)("p",{className:"text-xs text-muted/70 mt-1",children:$("dashboard.interactHint")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eo.default,{targetRef:L,title:$("dashboard.title")}),(0,t.jsx)(b,{era:e.era,setEra:y})]})]}),(0,t.jsx)(h,{onActivate:E,onDeactivate:O}),(0,t.jsxs)("div",{ref:L,className:"space-y-6",children:[(0,t.jsx)(u,{filters:e,toggleYear:R,toggleDataType:D,togglePhase:W,resetFilters:F}),(0,t.jsx)(g,{phaseStats:o,onPhaseClick:B}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[(0,t.jsx)(j.default,{phaseStats:o,onPhaseClick:B}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider",children:$("dashboard.trendByPhase")}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(e=>(0,t.jsx)(k,{trend:e,onPhaseClick:B},e.phase))})]})]}),(0,t.jsx)(J,{facts:d,activePhases:e.phases}),(0,t.jsx)(ea,{facts:d,onSelectFact:T})]}),(0,t.jsx)(ed,{fact:P,onClose:()=>T(null)})]})}e.s(["default",()=>em],30257)},48503,e=>{e.v(t=>Promise.all(["static/chunks/adabfc2d4bff09a9.js"].map(t=>e.l(t))).then(()=>t(15833)))},70653,e=>{e.v(t=>Promise.all(["static/chunks/049ce48f7172c019.js"].map(t=>e.l(t))).then(()=>t(24154)))},95111,e=>{e.v(t=>Promise.all(["static/chunks/b8a392715cb48bcd.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},21345,e=>{"use strict";let t=(0,e.i(75254).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["Link",()=>t],21345)},60398,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(41240),l=e.i(21345),n=e.i(78917),c=e.i(10980),d=e.i(43531),i=e.i(3116),o=e.i(23622);let m=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var x=e.i(52057);e.i(57229);var u=e.i(44674);let p={pending:{labelKey:"common.pending",bg:"bg-zinc-500/10 text-zinc-400",dot:"bg-zinc-400"},accepted:{labelKey:"common.accepted",bg:"bg-emerald-500/10 text-emerald-400",dot:"bg-emerald-400"},rejected:{labelKey:"common.rejected",bg:"bg-red-500/10 text-red-400",dot:"bg-red-400"},postponed:{labelKey:"common.postponed",bg:"bg-amber-500/10 text-amber-400",dot:"bg-amber-400"}},h={critical:{labelKey:"common.critical",className:"bg-red-500/10 text-red-400"},important:{labelKey:"common.important",className:"bg-amber-500/10 text-amber-400"},"nice-to-have":{labelKey:"common.niceToHave",className:"bg-zinc-500/10 text-muted"}},g=[{status:"accepted",icon:d.Check,titleKey:"common.accept"},{status:"postponed",icon:i.Clock,titleKey:"common.postpone"},{status:"rejected",icon:o.Ban,titleKey:"common.reject"}];function b(e){return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}function f({status:e}){let{t:s}=(0,u.useTranslation)(),a=p[e];return(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full ${a.bg}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${a.dot}`}),s(a.labelKey)]})}function j({currentStatus:e,onStatusChange:s}){let{t:a}=(0,u.useTranslation)();return(0,t.jsx)("div",{className:"flex gap-1",children:g.map(({status:r,icon:l,titleKey:n})=>(0,t.jsx)("button",{onClick:()=>s(r===e?"pending":r),title:r===e?a("common.resetToPending"):a(n),className:`p-1.5 rounded-md transition-colors ${r===e?p[r].bg:"text-muted hover:text-foreground hover:bg-surface-hover"}`,children:(0,t.jsx)(l,{className:"w-3.5 h-3.5"})},r))})}function N({feature:e,onStatusChange:s}){let{t:a}=(0,u.useTranslation)(),r=e.status||"pending",l=h[e.priority],n="accepted"===r&&!!e.implementedAt;return(0,t.jsxs)("div",{className:`group bg-surface rounded-xl overflow-hidden transition-colors ${n?"border-2 border-emerald-500/30":"border border-border hover:border-muted"}`,children:[n&&(0,t.jsxs)("div",{className:"bg-emerald-500/10 px-5 py-2.5 flex items-center gap-2 border-b border-emerald-500/20",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center",children:(0,t.jsx)(d.Check,{className:"w-3 h-3 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-emerald-500",children:a("common.implemented")}),(0,t.jsx)("span",{className:"text-xs text-emerald-400/70 ml-auto",children:b(e.implementedAt)})]}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-foreground mb-1.5",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted leading-relaxed line-clamp-2",children:e.description})]}),(0,t.jsx)(j,{currentStatus:r,onStatusChange:s})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f,{status:r}),(0,t.jsx)("span",{className:`text-xs px-2.5 py-1 rounded-full ${l.className}`,children:a(l.labelKey)})]}),(0,t.jsxs)("span",{className:"text-xs text-muted",children:[a("fromUsers.suggested")," ",b(e.createdAt)]})]})]})]})}function v({source:e,onStatusChange:s}){let{t:r}=(0,u.useTranslation)(),l=e.status||"pending",i="accepted"===l;return(0,t.jsxs)("div",{className:`group bg-surface rounded-xl overflow-hidden transition-colors ${i?"border-2 border-emerald-500/30":"border border-border hover:border-muted"}`,children:[i&&(0,t.jsxs)("div",{className:"bg-emerald-500/10 px-5 py-2.5 flex items-center gap-2 border-b border-emerald-500/20",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center",children:(0,t.jsx)(d.Check,{className:"w-3 h-3 text-white"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-emerald-500",children:r("fromUsers.acceptedAsSource")}),e.linkedSourceId&&(0,t.jsxs)(a.default,{href:`/sources?search=${encodeURIComponent(e.linkedSourceId)}`,className:"inline-flex items-center gap-1 text-xs text-emerald-400 hover:underline ml-auto",children:[(0,t.jsx)(c.BookOpen,{className:"w-3 h-3"}),e.linkedSourceId]})]}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-accent hover:underline flex items-center gap-1.5 truncate mb-1.5",title:e.url,children:[e.name||e.url,(0,t.jsx)(n.ExternalLink,{className:"w-3.5 h-3.5 shrink-0"})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted leading-relaxed line-clamp-2",children:e.description})]}),(0,t.jsx)(j,{currentStatus:l,onStatusChange:s})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[e.phase&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-md bg-zinc-100 text-muted",children:e.phase}),e.dataType&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-md bg-zinc-100 text-muted capitalize",children:e.dataType}),void 0!==e.impactPct&&(0,t.jsxs)("span",{className:`text-xs font-medium ${e.impactPct>=0?"text-emerald-500":"text-red-400"}`,children:[e.impactPct>=0?"+":"",e.impactPct,"%"]}),e.year&&(0,t.jsx)("span",{className:"text-xs text-muted",children:e.year})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-border/50",children:[(0,t.jsx)(f,{status:l}),(0,t.jsxs)("span",{className:"text-xs text-muted",children:[r("fromUsers.suggested")," ",b(e.createdAt)]})]})]})]})}function y({label:e,value:s,icon:a,accent:r}){return(0,t.jsxs)("div",{className:"bg-surface border border-border rounded-xl p-5 flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${r||"bg-accent/10"}`,children:(0,t.jsx)(a,{className:`w-5 h-5 ${r?"text-white":"text-accent"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold tabular-nums text-foreground",children:s}),(0,t.jsx)("p",{className:"text-xs text-muted",children:e})]})]})}function w({type:e}){let{t:s}=(0,u.useTranslation)();return(0,t.jsxs)("div",{className:"text-center py-12 bg-surface border border-border rounded-xl",children:["features"===e?(0,t.jsx)(r.Lightbulb,{className:"w-8 h-8 text-muted mx-auto mb-3"}):(0,t.jsx)(l.Link,{className:"w-8 h-8 text-muted mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:s("features"===e?"fromUsers.noFeatures":"fromUsers.noSources")})]})}function S(){let{t:e}=(0,u.useTranslation)(),[a,n]=(0,s.useState)([]),[c,o]=(0,s.useState)([]),[p,h]=(0,s.useState)("all");(0,s.useEffect)(()=>{n((0,x.getFeatureSuggestions)()),o((0,x.getSourceSuggestions)())},[]);let g=(0,s.useMemo)(()=>"all"===p?a:a.filter(e=>(e.status||"pending")===p),[a,p]),b=(0,s.useMemo)(()=>"all"===p?c:c.filter(e=>(e.status||"pending")===p),[c,p]),f=(0,s.useMemo)(()=>{let e=[...a.map(e=>e.status||"pending"),...c.map(e=>e.status||"pending")];return{total:e.length,pending:e.filter(e=>"pending"===e).length,accepted:e.filter(e=>"accepted"===e).length,rejected:e.filter(e=>"rejected"===e).length,postponed:e.filter(e=>"postponed"===e).length}},[a,c]),j=[{value:"all",label:`${e("fromUsers.all")} (${f.total})`},{value:"pending",label:`${e("common.pending")} (${f.pending})`},{value:"accepted",label:`${e("common.accepted")} (${f.accepted})`},{value:"postponed",label:`${e("common.postponed")} (${f.postponed})`},{value:"rejected",label:`${e("common.rejected")} (${f.rejected})`}];return(0,t.jsxs)("div",{className:"max-w-5xl space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:e("fromUsers.title")}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1",children:e("fromUsers.subtitle")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(y,{label:e("fromUsers.featureRequests"),value:a.length,icon:r.Lightbulb}),(0,t.jsx)(y,{label:e("fromUsers.sourceSuggestions"),value:c.length,icon:l.Link}),(0,t.jsx)(y,{label:e("common.accepted"),value:f.accepted,icon:d.Check,accent:"bg-emerald-500"}),(0,t.jsx)(y,{label:e("fromUsers.pendingReview"),value:f.pending,icon:i.Clock,accent:"bg-zinc-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"w-4 h-4 text-muted"}),(0,t.jsx)("div",{className:"flex gap-1.5",children:j.map(({value:e,label:s})=>(0,t.jsx)("button",{onClick:()=>h(e),className:`px-3 py-1.5 text-xs rounded-lg border transition-colors ${p===e?"bg-accent-dim text-accent border-accent/30 font-medium":"bg-surface text-muted border-border hover:text-foreground hover:border-muted"}`,children:s},e))})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-amber-500/10 flex items-center justify-center",children:(0,t.jsx)(r.Lightbulb,{className:"w-4 h-4 text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-foreground",children:e("fromUsers.featureRequests")}),(0,t.jsx)("p",{className:"text-xs text-muted",children:e("fromUsers.requestCount",{count:g.length})})]})]}),0===g.length?(0,t.jsx)(w,{type:"features"}):(0,t.jsx)("div",{className:"space-y-3",children:g.map(e=>(0,t.jsx)(N,{feature:e,onStatusChange:t=>{var s;return s=e.id,void((0,x.updateFeatureSuggestionStatus)(s,t),n((0,x.getFeatureSuggestions)()))}},e.id))})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center",children:(0,t.jsx)(l.Link,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-foreground",children:e("fromUsers.dataSrcSuggestions")}),(0,t.jsx)("p",{className:"text-xs text-muted",children:e("fromUsers.suggestionCount",{count:b.length})})]})]}),0===b.length?(0,t.jsx)(w,{type:"sources"}):(0,t.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,t.jsx)(v,{source:e,onStatusChange:t=>{var s;return s=e.id,void((0,x.updateSourceSuggestionStatus)(s,t),o((0,x.getSourceSuggestions)()))}},e.id))})]})]})}e.s(["default",()=>S],60398)}]);
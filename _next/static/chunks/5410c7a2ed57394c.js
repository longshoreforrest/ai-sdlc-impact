(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83847,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(78583),i=e.i(17394),n=e.i(17586),l=e.i(65143);e.i(57229);var o=e.i(44674),c=e.i(61911),d=e.i(75254);let m=(0,d.default)("euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);var u=e.i(3116);let x=(0,d.default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),p=(0,d.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),h=["empirical","survey","vendor","anecdotal"],f={empirical:"common.empirical",survey:"common.survey",vendor:"common.vendor",anecdotal:"common.anecdotal"},g={pessimistic:{labelKey:"roi.pessimistic",color:"#ef4444",activeClass:"bg-red-500/15 text-red-400 border-red-500/30"},realistic:{labelKey:"roi.realistic",color:"#f59e0b",activeClass:"bg-amber-500/15 text-amber-400 border-amber-500/30"},optimistic:{labelKey:"roi.optimistic",color:"#10b981",activeClass:"bg-emerald-500/15 text-emerald-400 border-emerald-500/30"}};function b({configs:e,onChange:a,availableYears:r,factCountsByYear:s}){let{t:n}=(0,o.useTranslation)();return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("p",{className:"text-sm text-foreground",children:[n("calculator.scenarioTimeframes")," ",(0,t.jsx)("span",{className:"text-xs text-muted",children:n("calculator.scenarioTimeframesHint")})]}),(0,t.jsx)("div",{className:"space-y-3",children:["pessimistic","realistic","optimistic"].map(s=>{let l,o=g[s],c=(l=e[s],i.facts.filter(e=>l.years.includes(e.year)&&l.dataTypes.includes(e.dataType)).length);return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs font-medium w-20 shrink-0",style:{color:o.color},children:n(o.labelKey)}),(0,t.jsx)("div",{className:"flex gap-1.5",children:r.map(r=>{let i=e[s].years.includes(r);return(0,t.jsx)("button",{onClick:()=>{let t,i;0!==(i=(t=e[s].years).includes(r)?t.filter(e=>e!==r):[...t,r].sort()).length&&a({...e,[s]:{...e[s],years:i}})},className:`px-2.5 py-1 text-xs rounded-md border transition-colors ${i?o.activeClass:"bg-zinc-50 text-muted border-border hover:text-foreground opacity-50"}`,children:r},r)})}),(0,t.jsxs)("span",{className:"text-xs text-muted tabular-nums",children:[c," ",n("common.sources")]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"w-20 shrink-0"}),(0,t.jsx)("div",{className:"flex gap-1.5",children:h.map(r=>{let i=e[s].dataTypes.includes(r);return(0,t.jsx)("button",{onClick:()=>{let t,i;0!==(i=(t=e[s].dataTypes).includes(r)?t.filter(e=>e!==r):[...t,r]).length&&a({...e,[s]:{...e[s],dataTypes:i}})},className:`px-2 py-0.5 text-[10px] rounded-md border transition-colors ${i?o.activeClass:"bg-zinc-50 text-muted border-border hover:text-foreground opacity-50"}`,children:n(f[r])},r)})})]})]},s)})})]})}function y(e){return e.toLocaleString("fi-FI")}function v(e){return Math.abs(e)>=1e6?`${(e/1e6).toFixed(1)} M`:Math.abs(e)>=1e3?`${Math.round(e/1e3)} K`:e.toFixed(0)}function j({inputs:e,onChange:r,availableYears:s,factCountsByYear:l}){let d,{t:h}=(0,o.useTranslation)(),f=(0,a.useCallback)(t=>{let a=e.includedPhases.includes(t)?e.includedPhases.filter(e=>e!==t):[...e.includedPhases,t];if(0===a.length)return;let s=(0,n.normalizeWeights)(e.phaseWeights,a);r({...e,includedPhases:a,phaseWeights:s})},[e,r]),g=(0,a.useCallback)((t,a)=>{let s=e.includedPhases.filter(e=>e!==t),i=s.reduce((t,a)=>t+(e.phaseWeights[a]||0),0),n=Math.max(.01,Math.min(.99,a)),l=1-n,o=i>0?l/i:0,c={...e.phaseWeights};for(let a of(c[t]=n,s))c[a]=(e.phaseWeights[a]||0)*o;r({...e,phaseWeights:c})},[e,r]);return(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-6 space-y-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider",children:h("calculator.teamParams")}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-foreground mb-2",children:[(0,t.jsx)(x,{className:"w-4 h-4 text-muted"}),h("calculator.itBudget")]}),(0,t.jsx)("input",{type:"range",min:1e5,max:5e8,step:1e5,value:e.itBudget,onChange:t=>{let a=Number(t.target.value),s=Math.max(1,Math.round(a/e.avgSalary));r({...e,itBudget:a,teamSize:s})},className:"w-full accent-accent"}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted",children:"100k"}),(0,t.jsxs)("span",{className:"text-sm font-bold tabular-nums text-accent",children:[y(e.itBudget)," EUR"]}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"500M"})]}),(0,t.jsx)("p",{className:"text-xs text-muted mt-1",children:h("calculator.itBudgetDesc")})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-foreground mb-2",children:[(0,t.jsx)(c.Users,{className:"w-4 h-4 text-muted"}),h("calculator.teamSize")]}),(d=Math.max(10,Math.round(e.itBudget/e.avgSalary)),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"range",min:1,max:d,value:Math.min(e.teamSize,d),onChange:t=>r({...e,teamSize:Number(t.target.value)}),className:"w-full accent-accent"}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted",children:"1"}),(0,t.jsx)("span",{className:"text-sm font-bold tabular-nums text-accent",children:e.teamSize}),(0,t.jsx)("span",{className:"text-xs text-muted",children:y(d)})]})]}))]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-foreground mb-2",children:[(0,t.jsx)(m,{className:"w-4 h-4 text-muted"}),h("calculator.avgSalary")]}),(0,t.jsx)("input",{type:"range",min:25e3,max:2e5,step:1e3,value:e.avgSalary,onChange:t=>{let a=Number(t.target.value),s=Math.max(1,Math.round(e.itBudget/a));r({...e,avgSalary:a,teamSize:s})},className:"w-full accent-accent"}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted",children:"25k"}),(0,t.jsxs)("span",{className:"text-sm font-bold tabular-nums text-accent",children:[y(e.avgSalary)," EUR"]}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"200k"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm text-foreground mb-2",children:[(0,t.jsx)(u.Clock,{className:"w-4 h-4 text-muted"}),h("calculator.hoursPerYear")]}),(0,t.jsx)("input",{type:"range",min:1e3,max:2500,step:50,value:e.hoursPerYear,onChange:t=>r({...e,hoursPerYear:Number(t.target.value)}),className:"w-full accent-accent"}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted",children:"1 000"}),(0,t.jsxs)("span",{className:"text-sm font-bold tabular-nums text-accent",children:[y(e.hoursPerYear)," h"]}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"2 500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3",children:h("transformation.title")}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-foreground",children:h("transformation.toolingCost")}),(0,t.jsx)("span",{className:"font-bold tabular-nums text-accent",children:v(20*e.teamSize*12)})]}),(0,t.jsxs)("p",{className:"text-xs text-muted",children:[e.teamSize," × 20 EUR × 12 ",h("roi.perYear")]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"flex items-center justify-between text-sm text-foreground mb-1",children:[(0,t.jsx)("span",{children:h("transformation.consulting")}),(0,t.jsx)("span",{className:"font-bold tabular-nums text-accent",children:v(e.transformationCosts.consulting)})]}),(0,t.jsx)("input",{type:"range",min:0,max:25e6,step:1e5,value:e.transformationCosts.consulting,onChange:t=>r({...e,transformationCosts:{...e.transformationCosts,consulting:Number(t.target.value)}}),className:"w-full accent-accent"}),(0,t.jsx)("p",{className:"text-xs text-muted",children:h("transformation.consultingDesc")})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"flex items-center justify-between text-sm text-foreground mb-1",children:[(0,t.jsx)("span",{children:h("transformation.training")}),(0,t.jsx)("span",{className:"font-bold tabular-nums text-accent",children:v(e.transformationCosts.training)})]}),(0,t.jsx)("input",{type:"range",min:0,max:25e6,step:1e5,value:e.transformationCosts.training,onChange:t=>r({...e,transformationCosts:{...e.transformationCosts,training:Number(t.target.value)}}),className:"w-full accent-accent"}),(0,t.jsx)("p",{className:"text-xs text-muted",children:h("transformation.trainingDesc")})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"flex items-center justify-between text-sm text-foreground mb-1",children:[(0,t.jsx)("span",{children:h("transformation.internal")}),(0,t.jsx)("span",{className:"font-bold tabular-nums text-accent",children:v(e.transformationCosts.internal)})]}),(0,t.jsx)("input",{type:"range",min:0,max:1e7,step:1e5,value:e.transformationCosts.internal,onChange:t=>r({...e,transformationCosts:{...e.transformationCosts,internal:Number(t.target.value)}}),className:"w-full accent-accent"}),(0,t.jsx)("p",{className:"text-xs text-muted",children:h("transformation.internalDesc")})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("label",{className:"flex items-center justify-between text-sm text-foreground mb-1",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(p,{className:"w-4 h-4 text-muted"}),h("calculator.timeframe")]}),(0,t.jsxs)("span",{className:"font-bold tabular-nums text-accent",children:[e.timeframeYears," ",h(1===e.timeframeYears?"calculator.year":"calculator.years")]})]}),(0,t.jsx)("input",{type:"range",min:1,max:10,step:1,value:e.timeframeYears,onChange:t=>r({...e,timeframeYears:Number(t.target.value)}),className:"w-full accent-accent"}),(0,t.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,t.jsx)("span",{className:"text-xs text-muted",children:"1"}),(0,t.jsx)("span",{className:"text-xs text-muted",children:"10"})]}),(0,t.jsx)("p",{className:"text-xs text-muted",children:h("calculator.timeframeDesc")})]}),(0,t.jsxs)("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900/30 rounded-lg p-3",children:[(0,t.jsxs)("p",{className:"text-xs text-muted uppercase tracking-wider mb-1",children:[h("transformation.totalInvestment"),e.timeframeYears>1&&` (${e.timeframeYears} ${h("calculator.years")})`]}),(0,t.jsxs)("p",{className:"text-lg font-bold tabular-nums text-red-500",children:[v(20*e.teamSize*12*e.timeframeYears+e.transformationCosts.consulting+e.transformationCosts.training+e.transformationCosts.internal)," EUR"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-foreground mb-1",children:h("calculator.budgetDistribution")}),(0,t.jsx)("p",{className:"text-xs text-muted mb-3",children:h("calculator.budgetDistributionHint")}),(0,t.jsxs)("div",{className:"space-y-2",children:[i.PHASES.map(a=>{let r=e.includedPhases.includes(a),s=e.phaseWeights[a]||0,i=e.itBudget*s;return(0,t.jsx)("div",{className:`${!r?"opacity-40":""}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>f(a),className:`text-xs font-medium w-16 shrink-0 text-left transition-colors ${r?"text-foreground":"text-muted line-through"}`,children:a}),(0,t.jsx)("input",{type:"range",min:1,max:99,value:Math.round(100*s),onChange:e=>g(a,Number(e.target.value)/100),disabled:!r,className:"flex-1 accent-accent h-1"}),(0,t.jsxs)("span",{className:`text-xs tabular-nums w-10 text-right ${r?"text-foreground font-medium":"text-muted"}`,children:[(100*s).toFixed(0),"%"]}),(0,t.jsx)("span",{className:`text-xs tabular-nums w-16 text-right ${r?"text-accent":"text-muted"}`,children:v(i)})]})},a)}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-border/50",children:[(0,t.jsx)("span",{className:"text-xs font-medium w-16 shrink-0 text-muted",children:h("roi.total")}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("span",{className:"text-xs tabular-nums w-10 text-right font-bold text-foreground",children:[Math.round(100*e.includedPhases.reduce((t,a)=>t+(e.phaseWeights[a]||0),0)),"%"]}),(0,t.jsx)("span",{className:"text-xs tabular-nums w-16 text-right font-bold text-accent",children:v(e.includedPhases.reduce((t,a)=>t+e.itBudget*(e.phaseWeights[a]||0),0))})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-foreground mb-1",children:h("calculator.inhouseRatios")}),(0,t.jsx)("p",{className:"text-xs text-muted mb-3",children:h("calculator.inhouseRatiosHint")}),(0,t.jsx)("div",{className:"space-y-2",children:i.PHASES.map(a=>{let s=e.includedPhases.includes(a),i=e.inhouseRatios[a]??1;return(0,t.jsx)("div",{className:`${!s?"opacity-40":""}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs font-medium w-16 shrink-0 text-left text-foreground",children:a}),(0,t.jsx)("input",{type:"range",min:0,max:100,value:Math.round(100*i),onChange:t=>{let s={...e.inhouseRatios,[a]:Number(t.target.value)/100};r({...e,inhouseRatios:s})},disabled:!s,className:"flex-1 accent-accent h-1"}),(0,t.jsxs)("span",{className:`text-xs tabular-nums w-10 text-right ${s?"text-foreground font-medium":"text-muted"}`,children:[Math.round(100*i),"%"]})]})},a)})})]}),(0,t.jsx)(b,{configs:e.scenarioConfigs,onChange:t=>r({...e,scenarioConfigs:t}),availableYears:s,factCountsByYear:l})]})}var N=e.i(9694),S=e.i(75225),w=e.i(29228),k=e.i(55706),A=e.i(25949),C=e.i(70778),P=e.i(98596),E=e.i(22273),O=e.i(62327),M=e.i(27241),R=e.i(73310);function T(e){var t=(0,M.useAppDispatch)();return(0,a.useEffect)(()=>{t((0,R.updatePolarOptions)(e))},[t,e]),null}var D=e.i(48973),I=e.i(51883),B=["layout"];function K(){return(K=Object.assign.bind()).apply(null,arguments)}var L={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},z=(0,a.forwardRef)(function(e,t){var r,s=(0,I.resolveDefaultProps)(e.categoricalChartProps,L),{layout:i}=s,n=function(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(s,B),{chartName:l,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=e;return a.createElement(C.RechartsStoreProvider,{preloadedState:{options:{chartName:l,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0}},reduxStoreName:null!=(r=s.id)?r:l},a.createElement(P.ChartDataContextProvider,{chartData:s.data}),a.createElement(E.ReportMainChartProps,{layout:i,margin:s.margin}),a.createElement(O.ReportChartProps,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),a.createElement(T,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),a.createElement(D.CategoricalChart,K({},n,{ref:t})))});function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var V=["item"],Y=U(U({},L),{},{layout:"centric",startAngle:0,endAngle:360}),F=(0,a.forwardRef)((e,t)=>{var r=(0,I.resolveDefaultProps)(e,Y);return a.createElement(z,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:V,tooltipPayloadSearcher:A.arrayTooltipSearcher,categoricalChartProps:r,ref:t})}),W=e.i(92068),G=e.i(7670),_=e.i(61849),H=e.i(92860),Z=e.i(41088),X=e.i(79812),q=e.i(61764),J=e.i(46710),Q=e.i(73962),ee=e.i(91561),et=e.i(77320),ea=e.i(90555),er=e=>e.graphicalItems.polarItems,es=(0,_.createSelector)([Q.pickAxisType,ee.pickAxisId],q.itemAxisPredicate),ei=(0,_.createSelector)([er,q.selectBaseAxis,es],q.combineGraphicalItemsSettings),en=(0,_.createSelector)([ei],q.combineGraphicalItemsData),el=(0,_.createSelector)([en,H.selectChartDataAndAlwaysIgnoreIndexes],q.combineDisplayedData),eo=(0,_.createSelector)([el,q.selectBaseAxis,ei],q.combineAppliedValues);(0,_.createSelector)([el,q.selectBaseAxis,ei],(e,t,a)=>a.length>0?e.flatMap(e=>a.flatMap(a=>{var r;return{value:(0,X.getValueByDataKey)(e,null!=(r=t.dataKey)?r:a.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,X.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var ec=()=>void 0,ed=(0,_.createSelector)([el,q.selectBaseAxis,ei,q.selectAllErrorBarSettings,Q.pickAxisType],q.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),em=(0,_.createSelector)([q.selectBaseAxis,q.selectDomainDefinition,q.selectDomainFromUserPreference,ec,ed,ec,J.selectChartLayout,Q.pickAxisType],q.combineNumericalDomain),eu=(0,_.createSelector)([q.selectBaseAxis,J.selectChartLayout,el,eo,et.selectStackOffsetType,Q.pickAxisType,em],q.combineAxisDomain),ex=(0,_.createSelector)([eu,q.selectRenderableAxisSettings,q.selectRealScaleType],q.combineNiceTicks),ep=(0,_.createSelector)([q.selectBaseAxis,eu,ex,Q.pickAxisType],q.combineAxisDomainWithNiceTicks);function eh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ef(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eh(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(0,_.createSelector)([q.selectRealScaleType,ep],ea.combineCheckedDomain);var eg=(0,_.createSelector)([er,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),eb=[],ey=(e,t,a)=>(null==a?void 0:a.length)===0?eb:a,ev=(0,_.createSelector)([H.selectChartDataAndAlwaysIgnoreIndexes,eg,ey],(e,t,a)=>{var r,{chartData:s}=e;if(null!=t&&((r=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:s)&&r.length||null==a||(r=a.map(e=>ef(ef({},t.presentationProps),e.props))),null!=r))return r}),ej=(0,_.createSelector)([ev,eg,ey],(e,t,a)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var s,i,n=(0,X.getValueByDataKey)(e,t.nameKey,t.name);return i=null!=a&&null!=(s=a[r])&&null!=(s=s.props)&&s.fill?a[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,X.getTooltipNameProp)(n,t.dataKey),color:i,payload:e,type:t.legendType}})}),eN=(0,_.createSelector)([ev,eg,ey,Z.selectChartOffsetInternal],(e,t,a,r)=>{if(null!=t&&null!=e)return function(e){var t,a,r,{pieSettings:s,displayedData:i,cells:n,offset:l}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:m,nameKey:u,tooltipType:x}=s,p=Math.abs(s.minAngle),h=(0,eE.mathSign)(d-c)*Math.min(Math.abs(d-c),360),f=Math.abs(h),g=i.length<=1?0:null!=(t=s.paddingAngle)?t:0,b=i.filter(e=>0!==(0,X.getValueByDataKey)(e,m,0)).length,y=f-b*p-(f>=360?b:b-1)*g,v=i.reduce((e,t)=>{var a=(0,X.getValueByDataKey)(t,m,0);return e+((0,eE.isNumber)(a)?a:0)},0);return v>0&&(a=i.map((e,t)=>{var a,i=(0,X.getValueByDataKey)(e,m,0),d=(0,X.getValueByDataKey)(e,u,t),f=((e,t,a)=>{var r,{top:s,left:i,width:n,height:l}=t,o=(0,eP.getMaxRadius)(n,l),c=i+(0,eE.getPercentValue)(e.cx,n,n/2),d=s+(0,eE.getPercentValue)(e.cy,l,l/2),m=(0,eE.getPercentValue)(e.innerRadius,o,0);return{cx:c,cy:d,innerRadius:m,outerRadius:(r=e.outerRadius,"function"==typeof r?(0,eE.getPercentValue)(r(a),o,.8*o):(0,eE.getPercentValue)(r,o,.8*o)),maxRadius:e.maxRadius||Math.sqrt(n*n+l*l)/2}})(s,l,e),b=((0,eE.isNumber)(i)?i:0)/v,j=eq(eq({},e),n&&n[t]&&n[t].props),N=(a=t?r.endAngle+(0,eE.mathSign)(h)*g*(0!==i):c)+(0,eE.mathSign)(h)*((0!==i?p:0)+b*y),S=(a+N)/2,w=(f.innerRadius+f.outerRadius)/2,k=[{name:d,value:i,payload:j,dataKey:m,type:x,graphicalItemId:s.id}],A=(0,eP.polarToCartesian)(f.cx,f.cy,w,S);return r=eq(eq(eq(eq({},s.presentationProps),{},{percent:b,cornerRadius:"string"==typeof o?parseFloat(o):o,name:d,tooltipPayload:k,midAngle:S,middleRadius:w,tooltipPosition:A},j),f),{},{value:i,dataKey:m,startAngle:a,endAngle:N,payload:j,paddingAngle:(0,eE.mathSign)(h)*g})})),a}({offset:r,pieSettings:t,displayedData:e,cells:a})}),eS=e.i(97865),ew=e.i(72733),ek=e.i(9516),eA=e.i(22787),eC=e.i(81977),eP=e.i(68970),eE=e.i(94395),eO=e.i(73393),eM=e.i(18519),eR=e.i(94585),eT=e.i(844),eD=e.i(76735),eI=e.i(95146),eB=e.i(94810),eK=e.i(40657),eL=e.i(15549),ez=e.i(91187),e$=e.i(57999),eU=e.i(66576),eV=e.i(69212),eY=e.i(29601),eF=e.i(18457),eW=e.i(51161),eG=["key"],e_=["onMouseEnter","onClick","onMouseLeave"],eH=["id"],eZ=["id"];function eX(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function eq(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(a),!0).forEach(function(t){var r,s,i;r=e,s=t,i=a[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eX(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function eJ(){return(eJ=Object.assign.bind()).apply(null,arguments)}function eQ(e,t){if(null==e)return{};var a,r,s=function(e,t){if(null==e)return{};var a={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],-1===t.indexOf(a)&&({}).propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function e0(e){var t=(0,a.useMemo)(()=>(0,eC.findAllByType)(e.children,eA.Cell),[e.children]),r=(0,M.useAppSelector)(a=>ej(a,e.id,t));return null==r?null:a.createElement(eI.SetPolarLegendPayload,{legendPayload:r})}var e1=a.memo(e=>{var{dataKey:t,nameKey:r,sectors:s,stroke:i,strokeWidth:n,fill:l,name:o,hide:c,tooltipType:d,id:m}=e,u={dataDefinedOnItem:s.map(e=>e.tooltipPayload),getPosition:e=>{var t;return null==(t=s[Number(e)])?void 0:t.tooltipPosition},settings:{stroke:i,strokeWidth:n,fill:l,dataKey:t,nameKey:r,name:(0,X.getTooltipNameProp)(o,t),hide:c,type:d,color:l,unit:"",graphicalItemId:m}};return a.createElement(eT.SetTooltipEntrySettings,{tooltipEntrySettings:u})});function e2(e){var{sectors:t,props:r,showLabels:s}=e,{label:i,labelLine:n,dataKey:l}=r;if(!s||!i||!t)return null;var o=(0,e$.svgPropertiesNoEvents)(r),c=(0,e$.svgPropertiesNoEventsFromUnknown)(i),d=(0,e$.svgPropertiesNoEventsFromUnknown)(n),m="object"==typeof i&&"offsetRadius"in i&&"number"==typeof i.offsetRadius&&i.offsetRadius||20,u=t.map((e,t)=>{var r,s,u=(e.startAngle+e.endAngle)/2,x=(0,eP.polarToCartesian)(e.cx,e.cy,e.outerRadius+m,u),p=eq(eq(eq(eq({},o),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(r=x.x)>(s=e.cx)?"start":r<s?"end":"middle"},x),h=eq(eq(eq(eq({},o),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[(0,eP.polarToCartesian)(e.cx,e.cy,e.outerRadius,u),x],key:"line"});return a.createElement(eY.ZIndexLayer,{zIndex:eF.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},a.createElement(eS.Layer,null,n&&((e,t)=>{if(a.isValidElement(e))return a.cloneElement(e,t);if("function"==typeof e)return e(t);var r=(0,G.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:s}=t,i=eQ(t,eG);return a.createElement(ew.Curve,eJ({},i,{type:"linear",className:r}))})(n,h),((e,t,r)=>{if(a.isValidElement(e))return a.cloneElement(e,t);var s=r;if("function"==typeof e&&(s=e(t),a.isValidElement(s)))return s;var i=(0,G.clsx)("recharts-pie-label-text",(0,eW.getClassNameFromUnknown)(e));return a.createElement(ek.Text,eJ({},t,{alignmentBaseline:"middle",className:i}),s)})(i,p,(0,X.getValueByDataKey)(e,l))))});return a.createElement(eS.Layer,{className:"recharts-pie-labels"},u)}function e4(e){var{sectors:t,props:r,showLabels:s}=e,{label:i}=r;return"object"==typeof i&&null!=i&&"position"in i?a.createElement(eV.LabelListFromLabelProp,{label:i}):a.createElement(e2,{sectors:t,props:r,showLabels:s})}function e5(e){var{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:i,shape:n,id:l}=e,o=(0,M.useAppSelector)(eD.selectActiveTooltipIndex),c=(0,M.useAppSelector)(eD.selectActiveTooltipDataKey),d=(0,M.useAppSelector)(eD.selectActiveTooltipGraphicalItemId),{onMouseEnter:m,onClick:u,onMouseLeave:x}=i,p=eQ(i,e_),h=(0,eR.useMouseEnterItemDispatch)(m,i.dataKey,l),f=(0,eR.useMouseLeaveItemDispatch)(x),g=(0,eR.useMouseClickItemDispatch)(u,i.dataKey,l);return null==t||0===t.length?null:a.createElement(a.Fragment,null,t.map((e,m)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var u=null==d||d===l,x=String(m)===o&&(null==c||i.dataKey===c)&&u,b=r&&x?r:o?s:null,y=eq(eq({},e),{},{stroke:e.stroke,tabIndex:-1,[eB.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:m,[eB.DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:l});return a.createElement(eS.Layer,eJ({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(m),tabIndex:-1,className:"recharts-pie-sector"},(0,eO.adaptEventsOfChild)(p,e,m),{onMouseEnter:h(e,m),onMouseLeave:f(e,m),onClick:g(e,m)}),a.createElement(eM.Shape,eJ({option:null!=n?n:b,index:m,shapeType:"sector",isActive:x},y)))}))}function e3(e){var{showLabels:t,sectors:r,children:s}=e,i=(0,a.useMemo)(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return a.createElement(eV.PolarLabelListContextProvider,{value:t?i:void 0},s)}function e7(e){var{props:t,previousSectorsRef:r,id:s}=e,{sectors:i,isAnimationActive:n,animationBegin:l,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:m,onAnimationStart:u,onAnimationEnd:x}=t,p=(0,eK.useAnimationId)(t,"recharts-pie-"),h=r.current,[f,g]=(0,a.useState)(!1),b=(0,a.useCallback)(()=>{"function"==typeof x&&x(),g(!1)},[x]),y=(0,a.useCallback)(()=>{"function"==typeof u&&u(),g(!0)},[u]);return a.createElement(e3,{showLabels:!f,sectors:i},a.createElement(eU.JavascriptAnimate,{animationId:p,begin:l,duration:o,isActive:n,easing:c,onAnimationStart:y,onAnimationEnd:b,key:p},e=>{var n,l=[],o=i&&i[0],c=null!=(n=null==o?void 0:o.startAngle)?n:0;return null==i||i.forEach((t,a)=>{var r=h&&h[a],s=a>0?(0,W.default)(t,"paddingAngle",0):0;if(r){var i=(0,eE.interpolate)(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),n=eq(eq({},t),{},{startAngle:c+s,endAngle:c+i+s});l.push(n),c=n.endAngle}else{var{endAngle:o,startAngle:d}=t,m=(0,eE.interpolate)(0,o-d,e),u=eq(eq({},t),{},{startAngle:c+s,endAngle:c+m+s});l.push(u),c=u.endAngle}}),r.current=l,a.createElement(eS.Layer,null,a.createElement(e5,{sectors:l,activeShape:d,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:s}))}),a.createElement(e4,{showLabels:!f,sectors:i,props:t}),t.children)}var e6={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:eF.DefaultZIndexes.area};function e8(e){var{id:t}=e,r=eQ(e,eH),{hide:s,className:i,rootTabIndex:n}=e,l=(0,a.useMemo)(()=>(0,eC.findAllByType)(e.children,eA.Cell),[e.children]),o=(0,M.useAppSelector)(e=>eN(e,t,l)),c=(0,a.useRef)(null),d=(0,G.clsx)("recharts-pie",i);return s||null==o?(c.current=null,a.createElement(eS.Layer,{tabIndex:n,className:d})):a.createElement(eY.ZIndexLayer,{zIndex:e.zIndex},a.createElement(e1,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),a.createElement(eS.Layer,{tabIndex:n,className:d},a.createElement(e7,{props:eq(eq({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function e9(e){var t=(0,I.resolveDefaultProps)(e,e6),{id:r}=t,s=eQ(t,eZ),i=(0,e$.svgPropertiesNoEvents)(s);return a.createElement(eL.RegisterGraphicalItemId,{id:r,type:"pie"},e=>a.createElement(a.Fragment,null,a.createElement(ez.SetPolarGraphicalItem,{type:"pie",id:e,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),a.createElement(e0,eJ({},s,{id:e})),a.createElement(e8,eJ({},s,{id:e}))))}e9.displayName="Pie";var te=e.i(85183),tt=e.i(93230),ta=e.i(72526),tr=e.i(34239),ts=e.i(31195),ti=e.i(59559);let tn=(0,d.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),tl=(0,d.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),to=(0,d.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var tc=e.i(25898),td=e.i(64659),tm=e.i(78917);let tu={pessimistic:{labelKey:"roi.pessimistic",color:"#ef4444",border:"border-red-500/30"},realistic:{labelKey:"roi.realistic",color:"#f59e0b",border:"border-amber-500/30"},optimistic:{labelKey:"roi.optimistic",color:"#10b981",border:"border-emerald-500/30"}};function tx({group:e,avgLabel:a}){return 0===e.facts.length?null:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-foreground",children:[e.phase,(0,t.jsxs)("span",{className:"text-muted ml-1",children:["(",a,")"]})]}),(0,t.jsx)("div",{className:"space-y-0.5 pl-3",children:e.facts.map(e=>(0,t.jsxs)("div",{className:"flex items-baseline gap-2 text-xs",children:[e.sourceUrl?(0,t.jsxs)("a",{href:e.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline truncate max-w-[280px] inline-flex items-center gap-1",children:[e.source,(0,t.jsx)(tm.ExternalLink,{className:"w-2.5 h-2.5 shrink-0"})]}):(0,t.jsx)("span",{className:"text-muted truncate max-w-[280px]",children:e.source}),(0,t.jsxs)("span",{className:"text-muted tabular-nums shrink-0",children:[e.impactPct,"%"]}),(0,t.jsx)("span",{className:"text-muted tabular-nums shrink-0",children:e.year})]},e.id))})]})}function tp({factMapping:e,totalFactCount:r}){let{t:s}=(0,o.useTranslation)(),[i,n]=(0,a.useState)(!1),[l,c]=(0,a.useState)("realistic");return(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border",children:[(0,t.jsxs)("button",{onClick:()=>n(!i),className:"w-full flex items-center justify-between px-4 py-3 text-sm text-muted hover:text-foreground transition-colors",children:[(0,t.jsx)("span",{children:s("scenarioSources.title",{count:r})}),(0,t.jsx)(td.ChevronDown,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&(0,t.jsxs)("div",{className:"px-4 pb-4 space-y-3",children:[(0,t.jsx)("div",{className:"flex gap-1 border-b border-border",children:["pessimistic","realistic","optimistic"].map(a=>{let r=tu[a],i=e[a].reduce((e,t)=>e+t.facts.length,0);return(0,t.jsxs)("button",{onClick:()=>c(a),className:`px-3 py-1.5 text-xs font-medium rounded-t-md border-b-2 transition-colors ${l===a?`${r.border} border-b-current`:"border-transparent text-muted hover:text-foreground"}`,style:l===a?{color:r.color,borderBottomColor:r.color}:void 0,children:[s(r.labelKey)," (",i,")"]},a)})}),(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-3 pr-1",children:e[l].map(e=>(0,t.jsx)(tx,{group:e,avgLabel:s("scenarioSources.medianInfo",{count:e.facts.length,median:e.medianImpact.toFixed(0)})},e.phase))})]})]})}let th={pessimistic:{labelKey:"roi.pessimistic",color:"#ef4444",bgClass:"card-glow-red",icon:(0,t.jsx)(tn,{className:"w-4 h-4 text-red-400"})},realistic:{labelKey:"roi.realistic",color:"#f59e0b",bgClass:"card-glow-amber",icon:(0,t.jsx)(to,{className:"w-4 h-4 text-amber-400"})},optimistic:{labelKey:"roi.optimistic",color:"#10b981",bgClass:"card-glow-green",icon:(0,t.jsx)(tl,{className:"w-4 h-4 text-emerald-400"})}},tf=["#f59e0b","#8b5cf6","#06b6d4","#3b82f6","#10b981","#f97316"];function tg({scenarios:e,totalBudget:r,teamSize:s,factMapping:i,totalFactCount:n,timeframeYears:l=1,transformationCosts:c}){let{t:d}=(0,o.useTranslation)(),m=l>1?` (${l} ${d("calculator.years")})`:"",u=["pessimistic","realistic","optimistic"],x=Math.max(...e.optimistic.phaseBreakdown.map(e=>Math.abs(e.costSavings)))>=1e6,p=x?1e6:1e3,h=x?"M":"K",f=e.realistic.phaseBreakdown.map((t,a)=>({phase:t.phase,pessimistic:Math.round(e.pessimistic.phaseBreakdown[a].costSavings/p*10)/10,realistic:Math.round(e.realistic.phaseBreakdown[a].costSavings/p*10)/10,optimistic:Math.round(e.optimistic.phaseBreakdown[a].costSavings/p*10)/10})),g=(0,a.useMemo)(()=>u.map(t=>({key:t,data:e[t].phaseBreakdown.filter(e=>e.included&&e.costSavings>0).map(e=>({name:e.phase,value:e.costSavings}))})),[e]),b=(0,a.useMemo)(()=>{let t=20*s*12,a=(c?.consulting??0)+(c?.training??0)+(c?.internal??0),r={pessimistic:e.pessimistic.totalCostSavings/l,realistic:e.realistic.totalCostSavings/l,optimistic:e.optimistic.totalCostSavings/l};return Array.from({length:10},(e,s)=>{let i=s+1,n=a+t*i,l={year:`${d("calculator.year")} ${i}`};for(let e of u)l[e]=Math.round(r[e]*i-n);return l})},[e,s,c,l,d]),y=Math.max(...b.map(e=>Math.abs(e.optimistic)),Math.abs(b[0].pessimistic))>=1e6,v=y?1e6:1e3,j=y?"M":"K",A=b.map(e=>({year:e.year,pessimistic:Math.round(e.pessimistic/v*10)/10,realistic:Math.round(e.realistic/v*10)/10,optimistic:Math.round(e.optimistic/v*10)/10}));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-surface rounded-xl border border-border p-5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted uppercase tracking-wider",children:d("calculator.itBudget")}),(0,t.jsx)("p",{className:"text-2xl font-bold tabular-nums text-foreground mt-1",children:(0,tc.formatEur)(r)}),(0,t.jsxs)("p",{className:"text-xs text-muted mt-1",children:[s," ",1!==s?d("roi.developers"):d("roi.developer")]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-xs text-muted uppercase tracking-wider",children:[d("transformation.totalInvestment"),m]}),(0,t.jsxs)("p",{className:"text-lg font-bold tabular-nums text-red-400 mt-1",children:["-",(0,tc.formatEur)(e.realistic.totalInvestment)]}),(0,t.jsxs)("div",{className:"text-xs text-muted mt-1 space-y-0.5",children:[(0,t.jsxs)("p",{children:[d("transformation.toolingCost"),": ",(0,tc.formatEur)(e.realistic.toolingCost)]}),e.realistic.consultingCost>0&&(0,t.jsxs)("p",{children:[d("transformation.consulting"),": ",(0,tc.formatEur)(e.realistic.consultingCost)]}),e.realistic.trainingCost>0&&(0,t.jsxs)("p",{children:[d("transformation.training"),": ",(0,tc.formatEur)(e.realistic.trainingCost)]}),e.realistic.internalCost>0&&(0,t.jsxs)("p",{children:[d("transformation.internal"),": ",(0,tc.formatEur)(e.realistic.internalCost)]})]})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:u.map(a=>{let s=th[a],i=e[a],n=r>0?i.netROI/r*100:0;return(0,t.jsxs)("div",{className:`bg-surface rounded-xl border border-border p-5 ${s.bgClass}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[s.icon,(0,t.jsx)("span",{className:"text-xs font-medium uppercase tracking-wider",style:{color:s.color},children:d(s.labelKey)})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted",children:d("roi.hoursSaved")}),(0,t.jsx)("p",{className:"text-xl font-bold tabular-nums",style:{color:s.color},children:(0,tc.formatHours)(i.totalHoursSaved)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted",children:d("roi.costSavings")}),(0,t.jsx)("p",{className:"text-xl font-bold tabular-nums",style:{color:s.color},children:(0,tc.formatEur)(i.totalCostSavings)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted",children:d("roi.netRoi")}),(0,t.jsx)("p",{className:"text-xl font-bold tabular-nums",style:{color:s.color},children:(0,tc.formatEur)(i.netROI)})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-border/50",children:[(0,t.jsx)("p",{className:"text-xs text-muted",children:d("roi.roiRatio")}),(0,t.jsxs)("p",{className:"text-lg font-bold tabular-nums",style:{color:s.color},children:[i.roiRatio,"x"]})]}),r>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted",children:d("roi.pctBudget")}),(0,t.jsxs)("p",{className:"text-sm font-bold tabular-nums",style:{color:s.color},children:[n>=0?"+":"",n.toFixed(1),"%"]})]})]})]},a)})}),(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-6",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-muted mb-4 uppercase tracking-wider",children:[d("roi.savingsByPhase")," (EUR ",h,")"]}),(0,t.jsx)(ts.ResponsiveContainer,{width:"100%",height:280,children:(0,t.jsxs)(N.BarChart,{data:f,margin:{top:10,right:10,bottom:10,left:10},children:[(0,t.jsx)(ta.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e4e4e7",vertical:!1}),(0,t.jsx)(te.XAxis,{dataKey:"phase",tick:{fill:"#71717a",fontSize:12},axisLine:{stroke:"#d4d4d8"},tickLine:!1}),(0,t.jsx)(tt.YAxis,{tick:{fill:"#71717a",fontSize:12},axisLine:{stroke:"#d4d4d8"},tickLine:!1,tickFormatter:e=>`${e}${h}`}),(0,t.jsx)(tr.Tooltip,{content:({active:e,payload:a,label:r})=>e&&a?.length?(0,t.jsxs)("div",{className:"bg-white border border-border rounded-lg p-3 shadow-xl text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-foreground mb-1",children:r}),a.map(e=>(0,t.jsxs)("p",{style:{color:e.color},children:[e.name,": ",(0,tc.formatEur)(e.value*p)]},e.dataKey))]}):null}),(0,t.jsx)(ti.Legend,{iconSize:10,wrapperStyle:{fontSize:"11px",color:"#71717a"}}),(0,t.jsx)(S.Bar,{dataKey:"pessimistic",name:d("roi.pessimistic"),fill:"#ef4444",fillOpacity:.7,radius:[2,2,0,0]}),(0,t.jsx)(S.Bar,{dataKey:"realistic",name:d("roi.realistic"),fill:"#f59e0b",fillOpacity:.7,radius:[2,2,0,0]}),(0,t.jsx)(S.Bar,{dataKey:"optimistic",name:d("roi.optimistic"),fill:"#10b981",fillOpacity:.7,radius:[2,2,0,0]})]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:g.map(({key:e,data:a})=>{let r=th[e];return(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-medium uppercase tracking-wider mb-2",style:{color:r.color},children:[d(r.labelKey)," — ",d("roi.costSavings")]}),(0,t.jsx)(ts.ResponsiveContainer,{width:"100%",height:200,children:(0,t.jsxs)(F,{children:[(0,t.jsx)(e9,{data:a,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:40,outerRadius:75,paddingAngle:2,strokeWidth:0,children:a.map((e,a)=>(0,t.jsx)(eA.Cell,{fill:tf[a%tf.length],fillOpacity:.8},e.name))}),(0,t.jsx)(tr.Tooltip,{content:({active:e,payload:a})=>{if(!e||!a?.length)return null;let r=a[0];return(0,t.jsxs)("div",{className:"bg-white border border-border rounded-lg p-2 shadow-xl text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:r.name}),(0,t.jsx)("p",{style:{color:r.payload?.fill},children:(0,tc.formatEur)(r.value)})]})}}),(0,t.jsx)(ti.Legend,{iconSize:8,wrapperStyle:{fontSize:"10px",color:"#71717a"},formatter:e=>(0,t.jsx)("span",{className:"text-muted",children:e})})]})})]},e)})}),(0,t.jsxs)("div",{className:"bg-surface rounded-xl border border-border p-6",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-muted mb-4 uppercase tracking-wider",children:[d("roi.projection")," (EUR ",j,")"]}),(0,t.jsx)(ts.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(w.LineChart,{data:A,margin:{top:10,right:10,bottom:10,left:10},children:[(0,t.jsx)(ta.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e4e4e7",vertical:!1}),(0,t.jsx)(te.XAxis,{dataKey:"year",tick:{fill:"#71717a",fontSize:11},axisLine:{stroke:"#d4d4d8"},tickLine:!1}),(0,t.jsx)(tt.YAxis,{tick:{fill:"#71717a",fontSize:11},axisLine:{stroke:"#d4d4d8"},tickLine:!1,tickFormatter:e=>`${e}${j}`}),(0,t.jsx)(ta.CartesianGrid,{strokeDasharray:"0",stroke:"#d4d4d8",horizontalPoints:[0],vertical:!1}),(0,t.jsx)(tr.Tooltip,{content:({active:e,payload:a,label:r})=>e&&a?.length?(0,t.jsxs)("div",{className:"bg-white border border-border rounded-lg p-3 shadow-xl text-xs",children:[(0,t.jsx)("p",{className:"font-medium text-foreground mb-1",children:r}),a.map(e=>(0,t.jsxs)("p",{style:{color:e.color},children:[e.name,": ",(0,tc.formatEur)(e.value*v)]},e.dataKey))]}):null}),(0,t.jsx)(ti.Legend,{iconSize:10,wrapperStyle:{fontSize:"11px",color:"#71717a"}}),(0,t.jsx)(k.Line,{type:"monotone",dataKey:"pessimistic",name:d("roi.pessimistic"),stroke:"#ef4444",strokeWidth:2,dot:{r:3}}),(0,t.jsx)(k.Line,{type:"monotone",dataKey:"realistic",name:d("roi.realistic"),stroke:"#f59e0b",strokeWidth:2,dot:{r:3}}),(0,t.jsx)(k.Line,{type:"monotone",dataKey:"optimistic",name:d("roi.optimistic"),stroke:"#10b981",strokeWidth:2,dot:{r:3}})]})}),(0,t.jsx)("p",{className:"text-xs text-muted mt-2 italic",children:d("roi.projectionNote")})]}),(0,t.jsx)("div",{className:"bg-surface rounded-xl border border-border overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left text-xs text-muted font-medium uppercase tracking-wider px-4 py-3",children:d("roi.phaseColumn")}),(0,t.jsx)("th",{className:"text-center text-xs text-muted font-medium uppercase tracking-wider px-4 py-3",children:d("roi.weightColumn")}),u.map(e=>(0,t.jsx)("th",{className:"text-right text-xs font-medium uppercase tracking-wider px-4 py-3",style:{color:th[e].color},children:d(th[e].labelKey)},e))]})}),(0,t.jsx)("tbody",{children:e.realistic.phaseBreakdown.map((a,r)=>(0,t.jsxs)("tr",{className:"border-b border-border/50 hover:bg-surface-hover transition-colors",children:[(0,t.jsxs)("td",{className:`px-4 py-3 font-medium ${!a.included?"opacity-40 line-through":""}`,children:[a.phase,!a.included&&(0,t.jsx)("span",{className:"ml-2 text-xs text-muted no-underline",children:d("common.excluded")})]}),(0,t.jsxs)("td",{className:"px-4 py-3 text-center tabular-nums text-muted",children:[(100*a.weight).toFixed(0),"%"]}),u.map(a=>{let s=e[a].phaseBreakdown[r];return(0,t.jsxs)("td",{className:"px-4 py-3 text-right tabular-nums",children:[(0,t.jsxs)("span",{style:{color:th[a].color},children:[s.medianImpact,"%"]}),(0,t.jsxs)("span",{className:"text-muted text-xs ml-1",children:["(",(0,tc.formatEur)(s.costSavings),")"]})]},a)})]},a.phase))}),(0,t.jsx)("tfoot",{children:(0,t.jsxs)("tr",{className:"border-t-2 border-border bg-surface-hover/50",children:[(0,t.jsx)("td",{className:"px-4 py-3 font-bold",children:d("roi.total")}),(0,t.jsx)("td",{className:"px-4 py-3"}),u.map(a=>(0,t.jsx)("td",{className:"px-4 py-3 text-right font-bold tabular-nums",style:{color:th[a].color},children:(0,tc.formatEur)(e[a].netROI)},a))]})})]})}),i&&null!=n&&(0,t.jsx)(tp,{factMapping:i,totalFactCount:n}),(0,t.jsx)("p",{className:"text-xs text-muted italic leading-relaxed",children:d("roi.dataBasis")})]})}var tb=e.i(46019);let ty=[...new Set(i.facts.map(e=>e.year))].sort(),tv={};for(let e of i.facts)tv[e.year]=(tv[e.year]||0)+1;function tj(){let{t:e}=(0,o.useTranslation)(),c=(0,r.useRouter)(),{configs:d}=(0,l.useScenario)(),[m,u]=(0,a.useState)({teamSize:Math.round(1e8/55e3),avgSalary:55e3,hoursPerYear:1600,itBudget:1e8,includedPhases:["Strategy","Design","Spec","Dev","QA","DevOps"],phaseWeights:i.PHASE_WEIGHTS,inhouseRatios:{Strategy:1,Design:1,Spec:1,Dev:.2,QA:1,DevOps:1},scenarioConfigs:d,transformationCosts:{consulting:2e6,training:1e6,internal:1e6},timeframeYears:1});(0,a.useEffect)(()=>{u(e=>({...e,scenarioConfigs:d}))},[d]);let x=(0,a.useCallback)(e=>{u(e)},[]),p=(0,a.useRef)(null),{scenarios:h,factMapping:f}=(0,a.useMemo)(()=>(0,n.calculateConfiguredScenarios)(m,i.facts),[m]),g=i.facts.length,b=m.itBudget,y=(0,a.useMemo)(()=>({pessimistic:f.pessimistic.flatMap(e=>e.facts.map(t=>({source:t.source,sourceUrl:t.sourceUrl||"",impactPct:t.impactPct,phase:e.phase,year:t.year}))),realistic:f.realistic.flatMap(e=>e.facts.map(t=>({source:t.source,sourceUrl:t.sourceUrl||"",impactPct:t.impactPct,phase:e.phase,year:t.year}))),optimistic:f.optimistic.flatMap(e=>e.facts.map(t=>({source:t.source,sourceUrl:t.sourceUrl||"",impactPct:t.impactPct,phase:e.phase,year:t.year})))}),[f]);return(0,t.jsxs)("div",{className:"max-w-7xl space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:e("calculator.title")}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1",children:e("calculator.subtitle")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{sessionStorage.setItem("report-inputs",JSON.stringify(m)),c.push("/report")},className:"inline-flex items-center gap-2 px-3 py-2 bg-accent text-white rounded-lg text-sm hover:bg-accent/90 transition-colors",children:[(0,t.jsx)(s.FileText,{className:"w-4 h-4"}),e("sidebar.report")]}),(0,t.jsx)(tb.default,{targetRef:p,title:e("calculator.title"),pdfSources:y})]})]}),(0,t.jsxs)("div",{ref:p,className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(j,{inputs:m,onChange:x,availableYears:ty,factCountsByYear:tv})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(tg,{scenarios:h,totalBudget:b,teamSize:m.teamSize,factMapping:f,totalFactCount:g,timeframeYears:m.timeframeYears,transformationCosts:m.transformationCosts})})]})]})}e.s(["default",()=>tj],83847)}]);